<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>4.11. Logging</title><link rel="stylesheet" href="look-and-feel.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.49"><link rel="home" href="index.html" title="Cookbook for Developers of ArgoUML"><link rel="up" href="ch04.html" title="Chapter 4. Inside the components"><link rel="previous" href="ch04s10.html" title="4.10. How are modules organised in in the java code"><link rel="next" href="ch04s12.html" title="4.12. The JUnit test cases"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.11. Logging</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch04s10.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter 4. Inside the components</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch04s12.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><h2 class="title" style="clear: both"><a name="logging"></a>4.11. Logging</h2></div></div><p>
        ArgoUML uses the standard 
        <a href="http://jakarta.apache.org/log4j/" target="_top">log4j</a>
        logging facility. the following sections deal with the current
        implementation in ArgoUML. By
        default, logging is turned off and only the version
        information of all used libraries and Exceptions are shown on
        the console.
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0"><tr><td rowspan="2" align="center" valign="top" width="25"><img src="images/note.png"></td><th>Note</th></tr><tr><td colspan="2" align="left" valign="top"><p>
            ArgoUML currently uses 
            <a href="http://jakarta.apache.org/log4j/" target="_top">log4j</a>
            version 1.1.3.
            An update to
            <a href="http://jakarta.apache.org/log4j/" target="_top">log4j</a>
            version 1.2.x is planned for
            ArgoUML release 0.11.x.
            Instructions in the following sections deal with
            <a href="http://jakarta.apache.org/log4j/" target="_top">log4j</a>
            version 1.2.x.
        </p></td></tr></table></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a name="d0e4525"></a>4.11.1. What to Log</h3></div></div><p>
            Logging entries in
            <a href="http://jakarta.apache.org/log4j/" target="_top">log4j</a>
            belong to exactly <span class="emphasis"><i>one</i></span> level:
            </p><div class="itemizedlist"><ul type="disc"><li>FATAL</li><li>ERROR</li><li>WARN</li><li>INFO</li><li>DEBUG</li></ul></div><p>

            This list is ordered according to the priority of these
            logging entries i.e.  if logging on level WARN is enabled,
            all logging entries that belong to the above levels ERROR
            and FATAL are logged as well.
        </p><div class="itemizedlist"><ul type="disc"><li>
                General rules for logging in ArgoUML<p>TBD</p></li><li>
                Rules for assigning levels to logging entries 
                (DEBUG, INFO, WARN, ERROR, FATAL)
                <p>TBD</p></li></ul></div></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a name="d0e4559"></a>4.11.2. How to Create Log Entries...</h3></div></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0"><tr><td rowspan="2" align="center" valign="top" width="25"><img src="images/important.png"></td><th>Important</th></tr><tr><td colspan="2" align="left" valign="top"><p>
                You should <span class="emphasis"><i>not</i></span> use
                <tt>System.out.println</tt> in your own
                Java Code. The only exception of this rule shall be to
                print the usage of ArgoUML
                in <tt>main.java</tt>.
            </p></td></tr></table></div><p>
            To make log entries from within your own classes, you just
            need to follow the three steps below:
            </p><div class="orderedlist"><ol type="1"><li>Import the org.apache.log4j.Logger package</li><li>Get a Logger</li><li>Start Logging...</li></ol></div><p>
        </p><div class="example"><p><b>Example 4.1. For log4j version 1.2.x</b></p><pre class="programlisting">
import org.apache.log4j.Logger;

Logger _logger = Logger.getLogger(<span class="emphasis"><i>theClass</i></span>.class.getName());

...

public void anExample() {
    _logger.debug("This is a debug message.");
    _logger.info("This is a info message.");
    _logger.warn("This is a warning.");
    _logger.error("This is an error.");
    _logger.fatal("This is fatal. The program stops now working...");
}
            </pre></div><p>
            For more information go to the log4j homepage at
            <a href="http://jakarta.apache.org/log4j/" target="_top">http://jakarta.apache.org/log4j</a>.
        </p></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a name="d0e4600"></a>4.11.3. How to Enable Logging...</h3></div></div><p>
            <a href="http://jakarta.apache.org/log4j/" target="_top">log4j</a>
            uses the command line parameter
            <i><tt>-Dlog4j.configuration = URL</tt></i>
            to configure itself where URL points to the location of
            your log4j configuration file.
        </p><div class="example"><p><b>Example 4.2. Various URLs</b></p><div class="programlistingco"><pre class="programlisting">
org/argouml/resource/<span class="emphasis"><i>filename.lcf</i></span>              <a name="ex.url.package"></a><img src="images/callouts/1.png" alt="1" border="0">

http://localhost/shared/argouml/<span class="emphasis"><i>filename.lcf</i></span>   <a name="ex.url.link"></a><img src="images/callouts/2.png" alt="2" border="0">

file://home/username/<span class="emphasis"><i>filename.lcf</i></span>              <a name="ex.url.file"></a><img src="images/callouts/3.png" alt="3" border="0">
                </pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><a href="#ex.url.package"><img src="images/callouts/1.png" alt="1" border="0"></a> </td><td valign="top" align="left">
                        Reference to a configuration file <span class="emphasis"><i>filename.lcf</i></span> 
                        within argouml.jar.
                    </td></tr><tr><td width="5%" valign="top" align="left"><a href="#ex.url.link"><img src="images/callouts/2.png" alt="2" border="0"></a> </td><td valign="top" align="left">
                        Reference to a configuration file <span class="emphasis"><i>filename.lcf</i></span> 
                        on a remote server/localhost.
                    </td></tr><tr><td width="5%" valign="top" align="left"><a href="#ex.url.file"><img src="images/callouts/3.png" alt="3" border="0"></a> </td><td valign="top" align="left">
                        Reference to a configuration file <span class="emphasis"><i>filename.lcf</i></span>
                        on your localmachine.
                    </td></tr></table></div></div></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="d0e4648"></a>4.11.3.1. ...when running ArgoUML from the command line</h4></div></div><p>
                There are currently two possibilities of running
                ArgoUML from the command
                line:
                </p><div class="orderedlist"><ol type="1"><li>
                        Run ArgoUML using
                        <tt>argouml.jar</tt></li><li>
                        Run ArgoUML using
                        the ant script
                    </li></ol></div><p>

                In the first case, the configuration file is specified
                directly on the command line, whereas in the latter
                case this parameter is specified in the
                <tt>build.xml</tt> (which in that case
                needs to be modified).
                ArgoUML is then started as
                usual with <b>./build run</b>.
             </p><div class="example"><p><b>Example 4.3. Command Line for argouml.jar</b></p><pre class="programlisting">
[localhost:~] billy% java -Dlog4j.configuration=URL -jar argouml.jar                        
                </pre></div><div class="example"><p><b>Example 4.4. Modification of build.xml</b></p><pre class="programlisting">
&lt;!-- =================================================================== --&gt;
&lt;!-- Run ArgoUML from compiled sources                                   --&gt;
&lt;!-- =================================================================== --&gt;
&lt;target name="run" depends="compile"&gt;
    &lt;echo message="--- Executing ${Name} ---"/&gt;
    &lt;!-- Uncomment the sysproperty and change the value if you want --&gt;
    &lt;java classname="org.argouml.application.Main"
          fork="yes"
          classpath="${build.dest};${classpath}"&gt;
          <span class="emphasis"><i>&lt; sysproperty key="log4j.configuration"
                       value="org/argouml/resource/<span class="emphasis"><i>filename.lcf</i></span>"&gt;&lt;/sysproperty&gt;</i></span>
    &lt;/java&gt;
&lt;/target&gt;
                </pre></div></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="d0e4695"></a>4.11.3.2. ...when running ArgoUML from WebStart</h4></div></div><p>
                To view the console output, the WebStart user has to
                set <i><tt>Enable Java Console</tt></i> in the
                Java WebStart preferences.  In the same dialog, there
                is also an option to save the Console Output to a
                file.
            </p><p>
                As you cannot provide any userspecific parameters to a
                WebStart Application from within WebStart,
it is currently not possible to choose log4j configuration
when running ArgoUML from Java Web Start.
            </p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="d0e4705"></a>4.11.3.3. ...when running ArgoUML from NetBeans</h4></div></div><p>
                TBD
            </p></div></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a name="d0e4710"></a>4.11.4. How to Customize Logging...</h3></div></div><p>
            There are some sample configuration files provided in 
            <i><tt>org.argouml.resource</tt></i>. Modify these according
            to your needs.
        </p></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a name="d0e4718"></a>4.11.5. References</h3></div></div><div class="itemizedlist"><ul type="disc"><li>
                The log4j project homepage at 
                    <a href="http://jakarta.apache.org/log4j/" target="_top">http://jakarta.apache.org/log4j</a></li></ul></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch04s10.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch04.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch04s12.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">4.10. How are modules organised in in the java code&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;4.12. The JUnit test cases</td></tr></table></div></body></html>