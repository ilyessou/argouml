<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>2.4. Making a release</title><link rel="stylesheet" href="look-and-feel.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.49"><link rel="home" href="index.html" title="Cookbook for Developers of ArgoUML"><link rel="up" href="ch02.html" title="Chapter 2. Building from source"><link rel="previous" href="ch02s03.html" title="2.3. Build Process"><link rel="next" href="ch02s05.html" title="2.5. Mailing Lists"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2.4. Making a release</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch02s03.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter 2. Building from source</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch02s05.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><h2 class="title" style="clear: both"><a name="release_process"></a>2.4. Making a release</h2></div></div><a class="indexterm" name="d0e869"></a><p>
To simplify for the person that is actually doing the release work
and to make sure that everything is done in the exact same way 
every time and nothing is forgotten,
this list of what to do when releasing is maintained.
</p><p>
It is provided with the hopes of being helpful.
If you, the release responsible, finds it unhelpful, please remove it!
</p><p>
What needs to be done when one actually does a release:
</p><p>
	</p><div class="orderedlist"><ol type="1"><li><p>Modify <tt>default.properties</tt>!</p><p>
The property to change is 
<tt>argo.release.version</tt>
where you will set the version number.
</p><p>
For release 0.9.8 it should look like this:
<pre class="programlisting">
#
# Argo version
#
argo.release.version=0.9.8
</pre>
</p></li><li><p>Tag the whole CVS repository with the freeze tag!</p><p>
Normally this tag is "VERSION_<i><tt>X_Y_Z</tt></i>_F",
e.g. VERSION_0_9_7_F.
The according command line CVS command is 
<b>cvs rtag VERSION_<i><tt>X_Y_Z</tt></i>_F argouml</b>.
In case you make a mistake doing that (you shouldn't really), 
you need to remove the tag you mistakenly put there and start over.
</p></li><li><p>Make sure you have a clean copy of the source!</p><p>
This is done by checking out from the tag using the command
<b>cvs co -r VERSION_<i><tt>X_Y_Z</tt></i>_F argouml_modules</b>
</p></li><li><p>Build the release with <b>build dist-release</b>!</p><p>
The output should be the files
ArgoUML-<i><tt>VERSION</tt></i>-libs.tar.gz,
ArgoUML-<i><tt>VERSION</tt></i>-libs.zip,
ArgoUML-<i><tt>VERSION</tt></i>-src.tar.gz,
ArgoUML-<i><tt>VERSION</tt></i>-src.zip,
ArgoUML-<i><tt>VERSION</tt></i>.tar.gz, and
ArgoUML-<i><tt>VERSION</tt></i>.zip
in the top-level argouml directory.

</p></li><li><p>Test the release!</p><p>
Either the tar or zip-file is tested by unpacking, starting and then
running through the test cases.
Currently there isn't any defined test cases.
</p><p>
All JUnit test cases are run by 
cd:ing to the <tt>modules/junit</tt> source directory,
running <b>build run</b>,
invoking JUnit tests from the Tools menu,
specifying the Test Case TestAll,
and running.
No problems shall be found.
</p><p>
If the tests did not pass See <a href="ch02s04.html#release_process_test_failed" title="2.4.1. The release did not work">Section 2.4.1</a>.
</p></li><li><p>Tag the whole repository with the release tag!</p><p>
This tag is "VERSION_<i><tt>X_Y_Z</tt></i>",
e.g. VERSION_0_9_7.
The according command line CVS command is 
<b>cvs tag VERSION_<i><tt>X_Y_Z</tt></i></b>
when your are standing in the
<tt>argouml</tt>-directory.
</p></li><li><p>
Open the repository for commits towards the next version.
</p><p>
This is done by setting the <tt>argo.release.version</tt>
in <tt>default.properties</tt> to 
PRE-<i><tt>Number of next release</tt></i>
and commiting.
</p></li><li><p>Upload the files onto the tigris website!</p><p>
Only a project owner can do that.
Please take the previous releases as an example to write the
descriptions of the files.
If everyone follows his own conventions it is likely to be confusing.
Hint: upload all the files first, then change all the texts at once in
the edit window.
It is much faster since you can copy and paste most of the texts.
</p></li><li><p>
Contact Jason Robbins to make the new Webstart version available!
</p><p>
Jason Robbins takes care of the signing and publishing of the
Webstart version.
</p></li><li><p>Make announcements!</p><p>
The announcement shall include a list of what has changed.
</p><p>
Write to the dev, users and announce lists.
Announcer should make sure that he/she is already subscribed to all lists.
</p><p>
Freshmeat: currently Thierry Lach does the freshmeat announcements
which require a login so just inform him.
</p></li></ol></div><p>
</p><div class="sect2"><div class="titlepage"><div><h3 class="title"><a name="release_process_test_failed"></a>2.4.1. The release did not work</h3></div></div><a class="indexterm" name="d0e1018"></a><p>
This shouldn't happen! This really shouldn't happen!
</p><p>
The reason that this has happened is that one of the developers 
has made a misstake.
You now must decide a way forward.
</p><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="release_work_fix_problem_yourself"></a>2.4.1.1. Fix the problem yourself.</h4></div></div><p>
If the problem is obvious to you and you can fix it quickly, do so.
This is done by doing the following:
</p><div class="itemizedlist"><ul type="disc"><li><p>Make the release tag into a branch</p><p>
<b>cvs rtag -b -r VERSION_<i><tt>X_Y_Z</tt></i>_F BRANCH_<i><tt>X_Y_Z</tt></i></b>
</p></li><li><p>Update you checked out copy to be on that branch</p><p>
<b>cvs update -r BRANCH_<i><tt>X_Y_Z</tt></i></b>
</p></li><li><p>Fix the problem in your checked out copy</p></li><li><p>Commit the problem in the branch</p><p>
<b>cvs commit -m'Fix of problem blabla'</b>
</p></li><li><p>Continue the build process</p><p>
This is done by restarting the <b>build dist-release</b>-command
and from that point on working in the branch instead of at the tag.
</p></li><li><p>
Explain to the culprit what misstakes he has made and how to fix it.
</p><p>
It is now his responsibility to make sure that the problem will not
appear in the next version.
He can do this either by merging in your fix or by fixing the problem
in some other way.
</p><p>
At this point an in-detail description of how poor programming skills
the culprit has and how ugly his mother is, is probably in place but
please keep it constructive!
Remember, you might be misstaken when you guess who the responsible are.
</p></li></ul></div><p>
</p></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="d0e1083"></a>2.4.1.2. 
Delay the release waiting for someone to fix the problem.
</h4></div></div><p>
Create the branch as described in 
<a href="ch02s04.html#release_work_fix_problem_yourself" title="2.4.1.1. Fix the problem yourself.">Section 2.4.1.1</a>.
Then tell the culprit and everyone on the developer list
what the problem is and that it is to be fixed in the
release branch a.s.a.p.
</p><p>
Monitor the changes made to the branch to verify that
noone commits anything else but the solutions to the
problems.
</p><p>
When you get notified that it is completed, 
update your checked out copy and continue the release work.
</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s03.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch02.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch02s05.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">2.3. Build Process&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;2.5. Mailing Lists</td></tr></table></div></body></html>