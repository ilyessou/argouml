<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>8.2.&nbsp;Creating and using branches</title><link rel="stylesheet" href="look-and-feel.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.66.1"><link rel="start" href="index.html" title="Cookbook for Developers of ArgoUML"><link rel="up" href="ch08.html" title="Chapter&nbsp;8.&nbsp;CVS in the ArgoUML project"><link rel="prev" href="ch08.html" title="Chapter&nbsp;8.&nbsp;CVS in the ArgoUML project"><link rel="next" href="ch08s03.html" title="8.3.&nbsp;Other CVS comments"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">8.2.&nbsp;Creating and using branches</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch08.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;8.&nbsp;CVS in the ArgoUML project</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch08s03.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="branches"></a>8.2.&nbsp;Creating and using branches</h2></div></div></div><a class="indexterm" name="d0e8367"></a><p>We use the following standards in ArgoUML:
</p><div class="itemizedlist"><ul type="disc"><li><p>Released versions get the tag <span class="emphasis"><em>VERSION_X_X_X</em></span></p></li><li><p>
Developers working on code, with an unspecified due date are requested
to put the code into a branch if it is deemed useful that the code can
be shared. Developer branches follow the scheme:
<span class="emphasis"><em>work_<i class="replaceable"><tt>explanation</tt></i>_<i class="replaceable"><tt>owner</tt></i></em></span>, where
            </p><div class="itemizedlist"><ul type="circle"><li><p>work is a literal</p></li><li><p>
<i class="replaceable"><tt>explanation</tt></i> is something like javahelp,
propertypanel, cppcodegeneration
</p></li><li><p>
<i class="replaceable"><tt>owner</tt></i> is a self explaining code for the
owner of the branch, 
e.g. tlach (Thierry Lach) or mkl (Markus Klink).
</p></li></ul></div><p>
</p></li></ul></div><p>
</p><p>Merging branches together is causing some work. So please use them sparingly and announce your intentions before on the mailing list.
</p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="howdoi_cvs"></a>8.2.1.&nbsp;How do I ...?</h3></div></div></div><p>
	  </p><div class="itemizedlist"><ul type="disc"><li><p>
...commit stuff?
</p><p>
You have made, the change, tested it and are satisfied with it.
</p><p>
Do a <span><b class="command">cvs update -d</b></span> and see that only the files 
you have changed are marked as modified.
If files are updated or patched by this command, 
please recompile and test again.
</p><p>
Do a <span><b class="command">cvs diff</b></span> on each of the files and verify that
only the lines you have changed are modified.
</p><p>
Do a single <span><b class="command">cvs commit</b></span> for all the files included
in the change.
This reduces the risk that someone else updates in the middle of your 
work and also reduces the amount of notifications of commits sent out.
Include changes to documentation and JUnit tests if applicable.
</p><p>
Don't forget to update the corresponding issue (if any) in Issuezilla 
i.e. set it to RESOLVED/FIXED.
</p></li><li><p>
...get my update or patch into CVS if I don't have CVS write rights?
</p><p>
Contact any of the active developers on the list and send them your
updates. They're very nice about it the first few times.
</p><p>
Supposing that you have checked out CVS as guest, then after you have
mailed a diff or file to an active developer, and he has entered it in CVS
your checked out copy contains the change but is not in sync and
the next <span><b class="command">cvs update</b></span> will result in an merge error.
The simplest way to solve this is to do remove all files modified by you
before doing the <span><b class="command">cvs update</b></span>. 
The <span><b class="command">cvs update</b></span> will restore all the files from the 
CVS repository and you can start with the next update.
</p></li><li><p>...get a list of the currently active working branches?</p><p>
You can't from CVS. You need to follow the announcements of created
and discontinued branches on the mailing list to know what branches are
interesting.
	      </p></li><li><p>
...create a branch for my work on <i class="replaceable"><tt>xxxyyy</tt></i> 
and start work on that branch?</p><p>
This assumes that you have a checked out copy of ArgoUML
	      </p><div class="orderedlist"><ol type="1"><li><p>
Change directory to the directory where ArgoUML is checked out.
</p></li><li><p>
Enter the argouml directory:
<span><b class="command">cd argouml</b></span> or <span><b class="command">chdir argouml</b></span>
		  </p></li><li><p>
Create your branch: 
<span><b class="command">cvs tag -b <i class="replaceable"><tt>work_xxxyyy_myname</tt></i></b></span>
		  </p><p>
<i class="replaceable"><tt>myname</tt></i> is is a self explaining code for you
(your Tigris login).
		  </p></li><li><p>
Change your checked out copy to be on the branch:
<span><b class="command">cvs update -r <i class="replaceable"><tt>work_xxxyyy_myname</tt></i></b></span>
		  </p></li><li><p>Do your work!</p></li><li><p>
Check in your changes in the branch:
<span><b class="command">cvs commit -m'<i class="replaceable"><tt>Blablabla</tt></i>' [<span class="optional">file</span>]</b></span>
		  </p></li><li><p>Continue working and checking in!</p></li></ol></div></li><li><p>...move my work from my working branch into the release?</p><p>
This is done when your work with the feature xxxyyy is finished and you have
decided/received clearance to enter it in the main branch.
	      </p><div class="orderedlist"><ol type="1"><li><p>
Change directory to the directory where ArgoUML is checked out.
		  </p><p>
If you are just working on one feature at a time this is the place where you
have a checked out copy on the branch in question. If not, this could be any
checked out copy of the source that does not contain any uncommitted changes.
		  </p></li><li><p>
Enter the argouml directory:
<span><b class="command">cd argouml</b></span> or <span><b class="command">chdir argouml</b></span>
		  </p></li><li><p>
Move the checked out copy that you are working on to the main branch:
<span><b class="command">cvs update -A</b></span>
		  </p></li><li><p>
Merge the changes from the branch into your checked out copy:
<span><b class="command">cvs update -j <i class="replaceable"><tt>work_xxxyyy_myname</tt></i></b></span>
		  </p></li><li><p>
Compile and run all your tests again.
		  </p><p>
This is to verify that the merge was all right, no one else had done any changes
that in the meantime that has in any way modified the work made in the branch.
		  </p></li><li><p>
Commit your changes in the main branch:
<span><b class="command">cvs commit -m'<i class="replaceable"><tt>xxxyyy entered in the main branch</tt></i></b></span>
		  </p></li><li><p>
Discontinue your branch!
		  </p><p>
From this point on it is important that you do not reuse your branch for 
any work. Only check it out for the purpose of examining how things were
in the branch. Make sure that all other developers that have been looking
at your branch also knows that it is discontinued.
		  </p></li></ol></div></li><li><p>...look at someone else's work in a branch?</p><p>
You need the name of the branch, i.e. the 
<i class="replaceable"><tt>work_xxxyyy_hisname</tt></i>.
	      </p><p>
There are two alternatives:
		</p><div class="itemizedlist"><ul type="circle"><li><p>
Check out ArgoUML or part of it on that branch:
<span><b class="command">cvs co -r <i class="replaceable"><tt>work_xxxyyy_hisname</tt></i> argouml</b></span>
		    </p></li><li><p>
Update your copy of ArgoUML to be on that branch:
<span><b class="command">cvs update -r <i class="replaceable"><tt>work_xxxyyy_hisname</tt></i></b></span>
		    </p><p>
Make sure that your copy does not have any uncommitted code or else your
uncommitted code will be present in your checked out copy on the branch.
This could, 
on the other hand, 
be useful if you want to test if your uncommitted
code works also with the additions on that branch.
		    </p></li></ul></div><p>
	      </p></li></ul></div><p>
	</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch08.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch08.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch08s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;8.&nbsp;CVS in the ArgoUML project&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;8.3.&nbsp;Other CVS comments</td></tr></table></div></body></html>