<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;9.&nbsp;Standards for coding in ArgoUML</title><link rel="stylesheet" href="look-and-feel.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.60.1"><link rel="home" href="index.html" title="Cookbook for Developers of ArgoUML"><link rel="up" href="index.html" title="Cookbook for Developers of ArgoUML"><link rel="previous" href="ch08s04.html" title="8.4.&nbsp;CVS repository contents"><link rel="next" href="ch09s02.html" title="9.2.&nbsp;Rules for the building process"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;9.&nbsp;Standards for coding in ArgoUML</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch08s04.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch09s02.html">Next</a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="standards"></a>Chapter&nbsp;9.&nbsp;Standards for coding in ArgoUML</h2></div></div><div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt>9.1. <a href="ch09.html#d0e7763">Rules for writing Java code</a></dt><dt>9.2. <a href="ch09s02.html">Rules for the building process</a></dt><dt>9.3. <a href="ch09s03.html">Settings for Eclipse</a></dt><dt>9.4. <a href="ch09s04.html">Settings for NetBeans</a></dt><dt>9.5. <a href="ch09s05.html">Settings for Emacs</a></dt></dl></div><a class="indexterm" name="d0e7755"></a><a class="indexterm" name="d0e7758"></a><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e7763"></a>9.1.&nbsp;Rules for writing Java code</h2></div></div><div></div></div><p>
The coding style for ArgoUML is the following
</p><div class="itemizedlist"><ul type="disc"><li><p>
Each file starts with some header info: 
file, 
version info, 
copyright notice,
classes in this file (if more than one),
original author (if you want).
Like this:
</p><pre class="programlisting">
// $Id$
// Copyright (c) 2003 The Regents of the University of California. All
// ...

// Classes: blabla, blabla (all classes of interest in this file)
// Original Author: who ever
</pre><p>
        </p></li><li><p>
All instance variables are private and their names begin with an underscore.
If the variable should be accessible then add public or protected
accessor methods with the same name as the variable without the
underscore with "get" or "set" prepended.
For example:
<tt class="varname">_lineWidth</tt>, 
<tt class="methodname">setLineWidth()</tt>, and 
<tt class="methodname">getLineWidth()</tt>.
</p></li><li><p>
In general, write short code.
If a method will fit comfortably on one line, then put it on one line.
</p></li><li><p>
Use javadoc for each class, instance variable, and method. 
In general do not put comments in the body of a method. 
If you are doing something complex enough to need a comment, consider
breaking it out into its own private commented method.
</p></li><li><p>
Indicate places of future modifications with 
</p><pre class="programlisting">
// TODO: reason
</pre><p>
        </p></li><li><p>
Name all classes with an initial uppercase letter, and all variables
and methods with a lowercase one. 
I use the <tt class="varname">allTogetherWithCaps</tt> naming style.
Name static variables with an underscore and an inital capital letter,
e.g., <tt class="varname">_PossibleLanguages</tt>.
Name constants with all upper case and underscores, e.g., 
<tt class="constant">GRIP_MARGIN</tt>.
</p></li><li><p>
To emphasize clusters of classes we are using what we call the binomial
naming style (I am sure others have thought of this also): 
The root class of the cluster has a short name (e.g., Layer), 
other members of the cluster use that name as a prefix (e.g., LayerGrid).
This makes many of the class name longer than they might be normally (e.g., Grid would be shorter).
But this provides a lot of context without
having to look at a class inheritance diagram.
It is also very nice when you have to look at an alphabetical list
of classes. I try to name class clusters so that they are not lexigraphically close others (e.g., the Net cluster
used to be named Model, but that lexigraphically overlapped the Mode cluster).
</p></li><li><p>
Four spaces should be used as the unit of indentation.
Tabs must be set exactly every 8 spaces (not 4) and represent 2 indents.
</p><p>
This is exactly as it is stated in the Sun Code Conventions.
It is here just for the emphasis.
</p></li><li><p>
If possible use lines shorter than 80 characters wide.
</p><p>
This is exactly as it is stated in the Sun Code Conventions.
It is here just for the emphasis.
</p></li><li><p>
Open brace on same line (at end).
Both for if/while/for and for class and functions definitions.
</p><p>
This is exactly as it is stated in the Sun Code Conventions.
It is here just for the emphasis.
</p></li><li><p>
Use deprecation when removing public methods.
</p><p>
Whenever you have a public method in a class or a public class 
that you want to 
remove,
change the signature in an incompatible way, or 
make change visibility for
you shall always deprecate it first.
After the next stable release you (or someone else) can remove 
that method.
</p><p>
In the future, when the components are well defined and it is clear
what public methods and classes that are part of a certain component's
exported interface 
we can allow an exception to this rule for public methods and classes 
that are not.
(See <a href="ch04s02.html" title="4.2.&nbsp;Relationship of the components">Section&nbsp;4.2, &#8220;Relationship of the components&#8221;</a>.)
</p><p>
Rationale:
This is part of the "Do Simple Things"-development approach that we
use in ArgoUML.
ArgoUML is a big project with lots of legacy code that we do not know
exactly how it works.
Deprecation shows the intent between decision to remove a method and
the point where it is actually removed 
and this without breaking anything of the old code.
There are also modules or plugins that we might know nothing about that
could be loaded by some user to run within ArgoUML to add functionality.
It is for the modules and plugins that we always save 
deprecated methods to the next stable release.
It makes it possible for the module developers to do work during the 
unstable releases and release at the same time as ArgoUML releases its
stable release.
</p></li><li><p>
Don't use deprecated methods or classes.
</p><p>
Rationale:
Deprecation is an indication that a class is to be removed.
We always want to build ArgoUML in a way that allows for future updates
of everything.
Using things that are on the way out already when doing the implementation
is for this reason not allowed.
</p><p>
Rationale 2:
If you feel like you really want to use a method that is deprecated instead
of the replacement you should first convince the person responsible
for doing the deprecation that he has made a misstake and upgrade ArgoUML
to a version of that library without that method or class deprecated.
If it is within ArgoUML discuss it with the person who actually did 
the deprecation or in the development team.
</p><p>
Comment:
There is an ongoing work (probably perpetually) to change
the calls to deprecated methods and classes that
has been deprecated after used in ArgoUML.
This is a normal part of improving ArgoUML.
If this work is too slow it makes it impossible to upgrade to new
versions of different subtools. 
This problem is seen by "the person responsible for sourceing of the subtool"
when actually trying to upgrade the subtool.
(See <a href="ch11s08.html" title="11.8.&nbsp;How to relate issues to problems in subproducts">Section&nbsp;11.8, &#8220;How to relate issues to problems in subproducts&#8221;</a>.)
</p></li><li><p>
For everything else follow
<a href="http://java.sun.com/docs/codeconv/html/CodeConvTOC.doc.html" target="_top">
Code Conventions for the Java Programming Language
</a>!
</p></li></ul></div><p>
Some of these rules are checked by a tool named checkstyle.
Checkstyle is available with the ArgoUML development environment
preconfigured for these rules.
The current configuration can be found in
<tt class="filename">argouml/tools/checkstyle/checkstyle_argouml.xml</tt>.
</p><p>
To run checkstyle run the command
<b class="command">build checkstyle</b> from the
<tt class="filename">argouml/src_new</tt>
directory.
This requires you to have checked out the directories
<tt class="filename">argouml/tools</tt>,
<tt class="filename">argouml/tests</tt>, and
<tt class="filename">argouml/src_new</tt>.
</p><p>
The last couple of checkstyle result are also available in 
the Xenofarm result.
</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch08s04.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="index.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch09s02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">8.4.&nbsp;CVS repository contents&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;9.2.&nbsp;Rules for the building process</td></tr></table></div></body></html>